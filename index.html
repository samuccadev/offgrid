<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#0d6efd"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="apple-mobile-web-app-title" content="Calculadora Solar"><meta name="msapplication-TileColor" content="#0d6efd"><title>Calculadora de Energia Solar Offgrid</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><link rel="manifest" href="manifest.json"><link rel="stylesheet" href="style.min.css"></head><body><div id="welcomeScreen" class="container py-5 text-center"><i class="fas fa-solar-panel text-warning fs-1"></i><h1 class="mt-3">Calculadora de Energia Solar Offgrid</h1><p class="lead">Bem-vindo ao sistema de cálculo de energia solar</p><div class="d-flex flex-column flex-sm-row justify-content-center gap-2 mt-4"><button class="btn btn-primary btn-lg" onclick="startNewCalculation()"><i class="fas fa-plus me-2"></i> Novo Cálculo</button> <button class="btn btn-outline-primary btn-lg" onclick="showSavedLists()"><i class="fas fa-folder-open me-2"></i> Carregar Lista Salva</button></div><div id="savedListsContainer" class="mt-4 mx-auto" style="max-width:500px;display:none"><h4 class="mb-3">Listas Salvas</h4><div id="savedLists"></div><button class="btn btn-secondary mt-3 w-100" onclick="hideSavedLists()"><i class="fas fa-arrow-left me-2"></i> Voltar</button></div></div><div id="appContent" class="container py-4" style="display:none"><h1 class="text-center mb-4 d-none d-md-block"><i class="fas fa-solar-panel text-warning me-2"></i>Calculadora de Energia Solar Offgrid</h1><ul class="nav nav-tabs mb-4 d-none d-md-flex" id="myTab" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" id="appliances-tab" data-bs-toggle="tab" data-bs-target="#appliances" type="button" role="tab"><i class="fas fa-plug me-1"></i> Aparelhos</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="config-tab" data-bs-toggle="tab" data-bs-target="#config" type="button" role="tab"><i class="fas fa-cog me-1"></i> Configurações</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="results-tab" data-bs-toggle="tab" data-bs-target="#results" type="button" role="tab"><i class="fas fa-chart-pie me-1"></i> Resumo</button></li></ul><div class="tab-content" id="myTabContent"><div class="tab-pane fade show active" id="appliances" role="tabpanel"><div class="d-flex flex-column flex-md-row justify-content-between mb-4 gap-2"><div class="d-flex flex-wrap gap-2"><button class="btn btn-info" onclick="window.print()"><i class="fas fa-print me-1"></i> Imprimir</button> <button class="btn btn-secondary" onclick="showWelcomeScreen()"><i class="fas fa-home me-1"></i> Início</button></div><div><span class="badge bg-primary" id="totalConsumption">0 Wh/dia</span></div></div><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-plug me-2"></i>Adicionar Aparelhos</h5></div><div class="card-body"><form id="applianceForm"><input type="hidden" id="editIndex" value="-1"><div class="row g-3"><div class="col-12 col-md-4"><label class="form-label required">Nome do Aparelho</label> <input type="text" class="form-control" id="applianceName" placeholder="Ex: Geladeira" required></div><div class="col-6 col-md-2"><label class="form-label required">Quantidade</label> <input type="number" class="form-control" id="quantity" min="1" value="1" required></div><div class="col-6 col-md-2"><label class="form-label required">Potência (W)</label> <input type="number" class="form-control" id="power" placeholder="Ex: 150" required></div><div class="col-6 col-md-2"><label class="form-label required">Horas/Dia</label> <input type="number" step="0.1" class="form-control" id="hours" placeholder="Ex: 8" required></div><div class="col-6 col-md-2 d-grid"><button id="submitButton" type="submit" class="btn btn-primary"><i class="fas fa-plus me-1"></i> Adicionar</button></div></div></form></div></div><div class="card mb-4 d-none d-md-block"><div class="card-header d-flex justify-content-between align-items-center"><h5 class="mb-0"><i class="fas fa-table me-2"></i>Aparelhos Adicionados</h5><span class="badge bg-primary">Total: <span id="totalAparelhos">0</span> aparelhos</span></div><div class="table-responsive"><table class="table table-striped table-hover mb-0"><thead><tr><th>Aparelho</th><th>Quant</th><th>Pot (W)</th><th>Horas</th><th>Consumo (Wh/dia)</th><th>Ações</th></tr></thead><tbody id="appliancesList"></tbody><tfoot><tr class="table-primary"><td colspan="4" class="fw-bold">Total</td><td class="fw-bold" id="totalKwh">0.00</td><td></td></tr></tfoot></table></div></div><div class="d-block d-md-none"><div class="card mb-5"><div class="card-header d-flex justify-content-between align-items-center"><h5 class="mb-0"><i class="fas fa-table me-2"></i>Aparelhos Adicionados</h5><span class="badge bg-primary">Total: <span id="totalAparelhosMobile">0</span> aparelhos</span></div><div class="card-body p-3" id="appliancesCardsList"></div><div class="p-3 fw-bold border-top d-flex justify-content-between"><span>Total:</span> <span id="totalKwhMobile">0.00 Wh/dia</span></div></div></div></div><div class="tab-pane fade" id="config" role="tabpanel"><div class="d-flex justify-content-between mb-4 flex-wrap gap-2"><button class="btn btn-secondary" onclick="showWelcomeScreen()"><i class="fas fa-home me-1"></i> Início</button> <span class="badge bg-primary" id="totalConsumptionConfig">0 Wh/dia</span></div><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-cog me-2"></i>Configurações do Sistema</h5></div><div class="card-body"><div class="row g-3"><div class="col-12 col-md-6"><label for="autonomy" class="form-label required">Autonomia (dias)</label> <input type="number" class="form-control" id="autonomy" min="1" value="2" required></div><div class="col-12 col-md-6"><label for="systemVoltage" class="form-label required">Tensão do Sistema (V)</label> <select class="form-select" id="systemVoltage" required><option value="12">12V</option><option value="24" selected="selected">24V</option><option value="48">48V</option></select></div></div><div class="mt-3"><label for="batteryType" class="form-label required">Tipo de Bateria</label> <select class="form-select" id="batteryType" required><option value="leadAcid">Chumbo Ácido</option><option value="lifepo4">LiFePO4</option></select></div><div class="mt-3"><label for="batteryUnitCapacity" class="form-label required">Capacidade da Bateria</label> <select class="form-select" id="batteryUnitCapacity" required><option value="100">100 Ah</option><option value="200" selected="selected">200 Ah</option></select></div><div class="row g-3 mt-3"><div class="col-12 col-md-4"><label for="dischargeDepth" class="form-label required">Profundidade de Descarga (%)</label> <input type="number" class="form-control" id="dischargeDepth" min="1" max="100" value="50" required></div><div class="col-12 col-md-4"><label for="batteryEfficiency" class="form-label required">Eficiência da Bateria (%)</label> <input type="number" class="form-control" id="batteryEfficiency" min="1" max="100" value="85" required></div><div class="col-12 col-md-4"><label for="systemLosses" class="form-label">Perdas do Sistema (%)</label> <input type="number" id="systemLosses" class="form-control" min="0" max="50" value="10" step="1"></div></div><div class="row g-3 mt-3"><div class="col-12 col-md-6"><label for="sunHours" class="form-label required">Horas de Sol pleno/dia</label> <input type="number" class="form-control" id="sunHours" min="0.1" step="0.1" value="5" required></div><div class="col-12 col-md-6"><label for="panelPower" class="form-label required">Potência da Placa Solar (W)</label> <input type="number" class="form-control" id="panelPower" min="1" value="330" required></div></div><button id="calculateBtn" class="btn btn-success w-100 mt-3"><i class="fas fa-bolt me-1"></i> Calcular Sistema</button></div></div></div><div class="tab-pane fade mt-3" id="results" role="tabpanel"><div class="d-flex justify-content-between mb-4 flex-wrap gap-2"><button class="btn btn-secondary" onclick="showWelcomeScreen()"><i class="fas fa-home me-1"></i> Início</button> <span class="badge bg-primary" id="totalConsumptionResults">0 Wh/dia</span></div><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-chart-bar me-2"></i>Resultados do Sistema Solar</h5></div><div class="card-body"><div class="row text-center g-3"><div class="col-6 col-md-3"><h6 class="text-muted">Consumo Total</h6><h4 class="text-primary" id="totalDailyConsumption">0.00 Wh/dia</h4></div><div class="col-6 col-md-3"><h6 class="text-muted">Geração Necessária</h6><h4 class="text-warning" id="geracaoNecessaria">0.00 Wh/dia</h4></div><div class="col-6 col-md-3"><h6 class="text-muted">Placas Necessárias</h6><h4 class="text-success" id="solarPanels">0 unidades</h4></div><div class="col-6 col-md-3"><h6 class="text-muted">Controlador de Carga</h6><h4 class="text-info" id="chargeController">0 A</h4></div></div><p class="mt-3 mb-0"><small>Considerando <span id="sunHoursValue">5</span> horas de sol pleno por dia e potência de <span id="panelPowerValue">330</span>W por placa</small></p></div></div><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-battery-full me-2"></i>Resultados das Baterias</h5></div><div class="card-body"><div class="row text-center g-3"><div class="col-12 col-md-4"><h6 class="text-muted">Capacidade Necessária</h6><h4 class="text-primary" id="batteryCapacity">0.00 Ah</h4></div><div class="col-12 col-md-4"><h6 class="text-muted">Tipo de Bateria</h6><h4 class="text-warning" id="batteryTypeResult">Chumbo Ácido</h4></div><div class="col-12 col-md-4"><h6 class="text-muted">Baterias 200Ah</h6><h4 class="text-success" id="quantidadeBaterias">0 unidades</h4></div></div><p class="mt-3 mb-0"><small>Considerando <span id="autonomyDays">2</span> dias de autonomia, <span id="dischargePercent">50</span>% de profundidade de descarga e tensão de <span id="tensaoSistema">24</span>V</small></p><div class="alert alert-warning mt-3 mb-0"><strong><i class="fas fa-exclamation-triangle me-1"></i> Observação:</strong> O cálculo considera baterias de <span id="batteryUnitCapacityText"></span>Ah. Ajuste conforme a capacidade das baterias que pretende utilizar.</div></div></div></div></div><div class="d-block d-md-none fixed-bottom bg-light border-top py-2 mt-3"><div class="d-flex justify-content-around"><button class="btn btn-link text-center" onclick='showTab("appliances")'><i class="fas fa-plug d-block"></i><small>Aparelhos</small></button> <button class="btn btn-link text-center" onclick='showTab("config")'><i class="fas fa-cog d-block"></i><small>Configurações</small></button> <button class="btn btn-link text-center" onclick='showTab("results")'><i class="fas fa-chart-pie d-block"></i><small>Resumo</small></button></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script><script src="script.min.js"></script></body></html>