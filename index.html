<!DOCTYPE html><html lang="pt-BR"><head><meta charset="UTF-8"><meta name="viewport" content="width=device-width,initial-scale=1"><meta name="theme-color" content="#0d6efd"><meta name="apple-mobile-web-app-capable" content="yes"><meta name="apple-mobile-web-app-status-bar-style" content="default"><meta name="apple-mobile-web-app-title" content="Calculadora Solar"><meta name="msapplication-TileColor" content="#0d6efd"><title>Calculadora de Energia Solar Offgrid</title><link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet"><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"><link rel="manifest" href="manifest.json"><link rel="stylesheet" href="style.min.css"><script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script><script async src="https://www.googletagmanager.com/gtag/js?id=G-SWG09FQWT8"></script><script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","G-SWG09FQWT8"),gtag("config","G-SWG09FQWT8",{app_name:"Calculadora Solar Offgrid",app_version:"1.0.0"})</script></head><body><div id="welcomeScreen" class="container py-5 text-center"><i class="fas fa-solar-panel text-warning fs-1"></i><h1 class="mt-3">Calculadora de Energia Solar Offgrid</h1><p class="lead">Bem-vindo ao sistema de cálculo de energia solar</p><div class="d-flex flex-column flex-sm-row justify-content-center gap-2 mt-4"><button class="btn btn-primary btn-lg" onclick="startNewCalculation()"><i class="fas fa-plus me-2"></i> Novo Cálculo</button> <button class="btn btn-outline-primary btn-lg" onclick="showSavedLists()"><i class="fas fa-folder-open me-2"></i> Carregar Lista Salva</button></div><div id="savedListsContainer" class="mt-4 mx-auto" style="max-width:500px;display:none"><h4 class="mb-3">Listas Salvas</h4><div id="savedLists"></div><button class="btn btn-secondary mt-3 w-100" onclick="hideSavedLists()"><i class="fas fa-arrow-left me-2"></i> Voltar</button></div></div><div id="appContent" class="container py-4" style="display:none"><h1 class="text-center mb-4 d-none d-md-block"><i class="fas fa-solar-panel text-warning me-2"></i>Calculadora de Energia Solar Offgrid</h1><ul class="nav nav-tabs mb-4 d-none d-md-flex" id="myTab" role="tablist"><li class="nav-item" role="presentation"><button class="nav-link active" id="appliances-tab" data-bs-toggle="tab" data-bs-target="#appliances" type="button" role="tab"><i class="fas fa-plug me-1"></i> Aparelhos</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="config-tab" data-bs-toggle="tab" data-bs-target="#config" type="button" role="tab"><i class="fas fa-cog me-1"></i> Configurações</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="battery-tab" data-bs-toggle="tab" data-bs-target="#results-battery" type="button" role="tab"><i class="fas fa-battery-full me-1"></i> Bateria</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="solar-tab" data-bs-toggle="tab" data-bs-target="#results-dev" type="button" role="tab"><i class="fas fa-solar-panel me-1"></i> Solar</button></li><li class="nav-item" role="presentation"><button class="nav-link" id="summary-tab" data-bs-toggle="tab" data-bs-target="#results-dev" type="button" role="tab"><i class="fas fa-chart-pie me-1"></i> Resumo</button></li></ul><div class="tab-content" id="myTabContent"><div class="tab-pane fade show active" id="appliances" role="tabpanel"><div class="d-flex flex-column flex-md-row justify-content-between mb-4 gap-2"><div class="d-flex flex-wrap gap-2"><button class="btn btn-info" onclick="gerarPDF()"><i class="fas fa-print me-1"></i> Gerar PDF</button> <button class="btn btn-secondary" onclick="showWelcomeScreen()"><i class="fas fa-home me-1"></i> Início</button></div><div><span class="badge bg-secondary" id="totalConsumption">0 Wh/dia</span></div></div><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-toggle-on me-2"></i>Escolha o Tipo de Entrada</h5></div><div class="card-body d-flex flex-column flex-md-row gap-2"><div class="btn-group w-100" role="group"><input type="radio" class="btn-check" name="inputType" id="inputAppliances" data-bs-target="#cardAppliances" value="appliances" autocomplete="off" checked="checked"> <label class="btn btn-outline-primary w-50" for="inputAppliances"><i class="fas fa-plug me-1"></i> Incluir aparelhos individual</label> <input type="radio" class="btn-check" name="inputType" id="inputTotal" value="total" autocomplete="off" data-bs-target="#cardTotal"> <label class="btn btn-outline-primary w-50" for="inputTotal"><i class="fas fa-info-circle me-1"></i> Valor total mensal kWh</label></div></div></div><div class="row g-3" id="cardAppliances" style="display:block"><div class="col-12"><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-plug me-2"></i>Adicionar Aparelhos</h5></div><div class="card-body"><form id="applianceForm"><input type="hidden" id="editIndex" value="-1"><div class="row g-3"><div class="col-12 col-md-4"><label class="form-label required">Nome do Aparelho</label> <input type="text" class="form-control" id="applianceName" placeholder="Ex: Geladeira" required></div><div class="col-6 col-md-2"><label class="form-label required">Quantidade</label> <input type="number" class="form-control" id="quantity" min="1" value="1" required></div><div class="col-6 col-md-2"><label class="form-label required">Potência (W)</label> <input type="number" class="form-control" id="power" placeholder="Ex: 150" required></div><div class="col-6 col-md-2"><label class="form-label required">Horas/Dia</label> <input type="number" step="0.1" class="form-control" id="hours" placeholder="Ex: 8" required></div><div class="col-6 col-md-2 d-grid"><button id="submitButton" type="submit" class="btn btn-primary"><i class="fas fa-plus me-1"></i> Adicionar</button></div></div></form></div></div><div class="card mb-4 d-none d-md-block"><div class="card-header d-flex justify-content-between align-items-center"><h5 class="mb-0"><i class="fas fa-table me-2"></i>Aparelhos Adicionados</h5><span class="badge bg-primary">Total: <span id="totalAparelhos">0</span> aparelhos</span></div><div class="table-responsive"><table class="table table-striped table-hover mb-0"><thead><tr><th>Aparelho</th><th>Quant</th><th>Pot (W)</th><th>Horas</th><th>Consumo (Wh/dia)</th><th>Ações</th></tr></thead><tbody id="appliancesList"></tbody><tfoot><tr class="table-primary"><td colspan="4" class="fw-bold">Total</td><td class="fw-bold" id="totalConsumo">0.00</td><td></td></tr></tfoot></table></div></div><div class="d-block d-md-none"><div class="card mb-5"><div class="card-header d-flex justify-content-between align-items-center"><h5 class="mb-0"><i class="fas fa-table me-2"></i>Aparelhos Adicionados</h5><span class="badge bg-primary">Total: <span id="totalAparelhosMobile">0</span> aparelhos</span></div><div class="card-body p-3" id="appliancesCardsList"></div><div class="p-3 fw-bold border-top"><div class="d-flex justify-content-between"><span>Total:</span> <span id="totalKwhMobile">0.00 Wh/dia</span></div></div></div></div></div></div><div class="row g-3" id="cardTotal" style="display:none"><div class="col-12"><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-info-circle me-2"></i>Informações de Consumo</h5></div><div class="card-body"><p class="mb-2">Insira seus gastos mensais em kWh no período de 1 ano:</p><div id="monthlyInputs" class="row g-2 mb-3"><div class="col-6 col-lg-3"><input type="number" class="form-control" id="janeiro" placeholder="Janeiro (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="fevereiro" placeholder="Fevereiro (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="marco" placeholder="Março (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="abril" placeholder="Abril (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="maio" placeholder="Maio (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="junho" placeholder="Junho (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="julho" placeholder="Julho (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="agosto" placeholder="Agosto (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="setembro" placeholder="Setembro (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="outubro" placeholder="Outubro (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="novembro" placeholder="Novembro (kWh)" step="0.1"></div><div class="col-6 col-lg-3"><input type="number" class="form-control" id="dezembro" placeholder="Dezembro (kWh)" step="0.1"></div></div><label class="form-label fw-bold">Média kWh/mês:</label> <input type="number" class="form-control mb-2" id="monthlyWattPerDay" value="0" readonly="readonly"><p>Média diária: <span id="dailyAverage">0</span> Wh/dia</p></div></div></div></div></div><div class="tab-pane fade" id="config" role="tabpanel"><div class="d-flex flex-column flex-md-row justify-content-between mb-4 gap-2"><div class="d-flex flex-wrap gap-2"><button class="btn btn-secondary" onclick="showWelcomeScreen()"><i class="fas fa-home me-1"></i> Início</button></div><div><span class="badge bg-secondary" id="totalConsumptionConfig">0 Wh/dia</span></div></div><div class="card mb-4"><div class="card-header"><h5 class="mb-0"><i class="fas fa-cog me-2"></i>Configurações do Sistema</h5></div><div class="card-body"><h6 class="fw-bold mb-2">⚡ Bateria</h6><div class="row g-3"><div class="col-12 col-md-4"><label for="autonomy" class="form-label required">Autonomia (dias)</label> <input type="number" class="form-control" id="autonomy" min="1" required></div><div class="col-12 col-md-4"><label for="systemVoltage" class="form-label required">Tensão do Sistema (V)</label> <select class="form-select" id="systemVoltage" required><option value="12">12V</option><option value="24">24V</option><option value="48">48V</option></select></div><div class="col-12 col-md-4"><label for="batteryUnitCapacity" class="form-label required">Capacidade da Bateria (Ah)</label> <input type="number" class="form-control" id="batteryUnitCapacity" min="1" required></div></div><div class="row g-3"><div class="col-12 col-md-6"><label for="dischargeDepth" class="form-label required">Profundidade de Descarga (%)</label> <input type="number" class="form-control" id="dischargeDepth" min="1" max="100" required></div><div class="col-12 col-md-6"><label for="batteryEfficiency" class="form-label required">Eficiência da Bateria (%)</label> <input type="number" class="form-control" id="batteryEfficiency" min="1" max="100" required></div></div><h6 class="fw-bold mt-3">☀️ Placa Solar</h6><div class="row g-3"><div class="col-12 col-md-12"><label for="panelPower" class="form-label required">Potência da Placa Solar (W)</label> <input type="number" class="form-control" id="panelPower" min="1" required></div></div><h6 class="fw-bold mt-3">⚙️ Outros</h6><div class="row g-3"><div class="col-12 col-md-4"><label for="systemLosses" class="form-label">Perdas do Sistema (%)</label> <input type="number" id="systemLosses" class="form-control" min="0" max="50" step="1"></div><div class="col-12 col-md-4"><label for="sunHours" class="form-label required">Horas de Sol pleno/dia</label> <input type="number" class="form-control" id="sunHours" min="0.1" step="0.1" required></div><div class="col-12 col-md-4"><label for="correctionFactor" class="form-label required">Correção (CC → CA) (%)</label> <input type="number" class="form-control" id="correctionFactor" min="1" max="100" required></div></div><div class="d-flex gap-2 mt-4"><button id="calculateBtn" class="btn btn-success flex-fill"><i class="fas fa-bolt me-1"></i> Calcular Sistema</button> <button id="resetBtn" class="btn btn-danger flex-fill"><i class="fas fa-undo me-1"></i> Resetar</button></div></div></div></div><div class="tab-pane fade" id="results-battery" role="tabpanel"><div class="d-flex flex-column flex-md-row justify-content-between mb-4 gap-2"><div class="d-flex flex-wrap gap-2"><button class="btn btn-secondary" onclick="showWelcomeScreen()"><i class="fas fa-home me-1"></i> Início</button></div><div><span class="badge bg-secondary" id="totalConsumptionResults">0 Wh/dia</span></div></div><div class="card shadow-sm mb-4"><div class="card-header bg-light"><h5 class="mb-0 text-dark"><i class="fas fa-battery-full me-2" style="color:#28a745"></i> Sistema de Armazenamento</h5></div><div class="card-body"><div class="row text-center g-3 mb-3"><div class="col-6 col-md-3"><div class="border rounded p-2 bg-light"><h6 class="text-muted mb-1">Capacidade Total</h6><h4 class="text-success mb-0" id="batteryCapacity">0.00 Ah</h4><small class="text-muted" id="batteryCapacityWh">0 Wh</small></div></div><div class="col-6 col-md-3"><div class="border rounded p-2 bg-light"><h6 class="text-muted mb-1">Configuração</h6><h4 class="text-warning mb-0" id="batteryConfig">0s0p</h4><small class="text-muted" id="batteryConfigDetail">0V × 0Ah</small></div></div><div class="col-6 col-md-3"><div class="border rounded p-2 bg-light"><h6 class="text-muted mb-1">Quantidade</h6><h4 class="text-danger mb-0" id="quantidadeBaterias">0 unidades</h4><small class="text-muted" id="batteryUnitInfo">0Ah cada</small></div></div><div class="col-6 col-md-3"><div class="border rounded p-2 bg-light"><h6 class="text-muted mb-1">Autonomia real</h6><h4 class="text-warning mb-0" id="batteryAutonomy">0.0 dias</h4><small class="text-muted" id="autonomyHours">0 horas</small></div></div></div><div class="row g-2 mb-3"><div class="col-12 col-md-6 col-lg-4"><div class="d-flex align-items-center p-2 border rounded bg-light"><i class="fas fa-bolt me-2 text-warning"></i> <small><strong>Tensão do Sistema:</strong> <span id="tensaoSistema">24</span> V</small></div></div><div class="col-12 col-md-6 col-lg-4"><div class="d-flex align-items-center p-2 border rounded bg-light"><i class="fas fa-tint me-2 text-danger"></i> <small><strong>Profundidade de Descarga:</strong> <span id="dischargePercent">50</span>%</small></div></div><div class="col-12 col-md-6 col-lg-4"><div class="d-flex align-items-center p-2 border rounded bg-light"><i class="fas fa-calendar-day me-2 text-success"></i> <small><strong>Autonomia planejada:</strong> <span id="autonomyDays">2</span> dias</small></div></div></div><div class="alert alert-warning mb-2 border-0" style="background-color:#fff8e5;color:#8a6d3b"><div class="d-flex"><i class="fas fa-info-circle me-2 mt-1"></i><div><strong>Configuração:</strong> <span id="batteryConfigExplanation" class="d-block">0 baterias em série × 0 em paralelo</span><p>Capacidade em Ah arredondada para cima, multiplicando pelo número de baterias usando a amperagem da Configuração.</p></div></div></div><div class="alert alert-warning mb-0 border-0" style="background-color:#fff8e5;color:#8a6d3b"><div class="d-flex"><i class="fas fa-exclamation-circle me-2 mt-1"></i><div><strong>Observação:</strong> <span class="d-block">Cálculo considera baterias de <span id="batteryUnitCapacityText">100</span>Ah. Ajuste conforme a capacidade disponível no mercado.</span></div></div></div></div></div></div><div class="tab-pane fade" id="results-dev" role="tabpanel"><div class="d-flex flex-column flex-md-row justify-content-between mb-4 gap-2"><div class="d-flex flex-wrap gap-2"><button class="btn btn-secondary" onclick="showWelcomeScreen()"><i class="fas fa-home me-1"></i> Início</button></div><div><span class="badge bg-secondary">Em breve</span></div></div><div class="card shadow-sm border-0 mb-4"><div class="card-header bg-light"><h5 class="mb-0 text-dark"><i class="fas fa-tools me-2" style="color:#6c757d"></i> Página em Desenvolvimento</h5></div><div class="card-body text-center"><i class="fas fa-hard-hat fa-3x mb-3 text-warning"></i><h4 class="fw-bold text-secondary">Estamos construindo esta funcionalidade</h4><p class="text-muted mb-0">🚧 Em breve você poderá visualizar os resultados aqui.<br>Obrigado pela paciência!</p></div></div></div></div><div class="d-block d-md-none fixed-bottom bg-light border-top py-2 mt-3"><div class="d-flex justify-content-around"><button class="btn btn-link text-center" onclick='showTab("appliances")'><i class="fas fa-plug d-block"></i><small></small></button> <button class="btn btn-link text-center" onclick='showTab("config")'><i class="fas fa-cog d-block"></i><small></small></button> <button class="btn btn-link text-center" onclick='showTab("results-battery")'><i class="fas fa-battery-full d-block"></i><small></small></button> <button class="btn btn-link text-center" onclick='showTab("results-dev")'><i class="fas fa-solar-panel d-block"></i><small></small></button> <button class="btn btn-link text-center" onclick='showTab("results-dev")'><i class="fas fa-chart-pie d-block"></i><small></small></button></div></div></div><div class="position-fixed bottom-0 end-0 p-3" style="z-index:1100"><div id="saveToast" class="toast align-items-center text-bg-success border-0" role="alert" aria-live="assertive" aria-atomic="true"><div class="d-flex"><div class="toast-body">✅ Configurações salvas com sucesso!</div><button type="button" class="btn-close btn-close-white me-2 m-auto" data-bs-dismiss="toast" aria-label="Fechar"></button></div></div></div><script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js"></script><script src="script.min.js"></script></body></html>